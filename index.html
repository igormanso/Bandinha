<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bandinha EJC Music</title>

<style>
body{
  background:#121212;
  color:white;
  font-family:Arial, Helvetica, sans-serif;
  margin:0;
}

header{
  padding:20px;
  font-size:22px;
  font-weight:bold;
  text-align:center;
}

.playlist{
  padding-bottom:240px;
}

.track{
  padding:15px 20px;
  border-bottom:1px solid #2a2a2a;
  cursor:pointer;
}

.track:hover{
  background:#1a1a1a;
}

.player{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:#181818;
  padding:20px;
  box-shadow:0 -5px 20px rgba(0,0,0,0.6);
}

/* TOP PLAYER */
.player-top{
  display:flex;
  align-items:center;
  gap:15px;
}

.player-top img{
  width:65px;
  height:65px;
  border-radius:10px;
  transition:transform 0.5s linear;
}

.rotating{
  animation:spin 6s linear infinite;
}

@keyframes spin{
  from{transform:rotate(0deg);}
  to{transform:rotate(360deg);}
}

.music-info{
  flex:1;
}

.music-title{
  font-weight:bold;
  font-size:16px;
}

/* PROGRESS */
.progress-container{
  margin-top:15px;
}

.progress{
  width:100%;
  height:6px;
  background:#333;
  border-radius:5px;
  cursor:pointer;
  position:relative;
}

.progress-bar{
  height:6px;
  background:#1DB954;
  width:0%;
  border-radius:5px;
}

.progress-dot{
  position:absolute;
  top:-4px;
  width:14px;
  height:14px;
  background:#1DB954;
  border-radius:50%;
  transform:translateX(-50%);
}

.time{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  margin-top:5px;
  color:#bbb;
}

/* CONTROLS */
.controls{
  margin-top:20px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:40px;
}

.controls button{
  background:none;
  border:none;
  color:white;
  font-size:26px;
}

.play-btn{
  font-size:42px;
}

</style>
</head>

<body>

<header>üéß Bandinha EJC Music</header>

<div class="playlist">
<div class="track" onclick="playMusic(0)">musica1</div>
<div class="track" onclick="playMusic(1)">musica2</div>
<div class="track" onclick="playMusic(2)">musica3</div>
</div>

<div class="player">

<div class="player-top">
<img src="capa.jpeg" id="cover">
<div class="music-info">
<div class="music-title" id="musicTitle">Selecione uma m√∫sica</div>
</div>
</div>

<div class="progress-container">
<div class="progress" onclick="setProgress(event)">
<div class="progress-bar" id="progressBar"></div>
<div class="progress-dot" id="progressDot"></div>
</div>

<div class="time">
<span id="currentTime">0:00</span>
<span id="duration">0:00</span>
</div>
</div>

<div class="controls">
<button onclick="prev()">‚èÆ</button>
<button class="play-btn" onclick="togglePlay()" id="playBtn">‚ñ∂</button>
<button onclick="next()">‚è≠</button>
</div>

</div>

<audio id="audio"></audio>

<script>

var playlist = [
{name:"musica1", file:"musica1.mp3"},
{name:"musica2", file:"musica2.mp3"},
{name:"musica3", file:"musica3.mp3"}
];

var current = 0;
var audio = document.getElementById("audio");
var progressBar = document.getElementById("progressBar");
var progressDot = document.getElementById("progressDot");
var musicTitle = document.getElementById("musicTitle");
var playBtn = document.getElementById("playBtn");
var cover = document.getElementById("cover");

function playMusic(index){
  current = index;
  audio.src = playlist[index].file;
  musicTitle.innerText = playlist[index].name;
  audio.play();
  playBtn.innerText = "‚è∏";
  cover.classList.add("rotating");
}

function togglePlay(){

  // Se ainda n√£o tem m√∫sica carregada
  if(!audio.src || audio.src === window.location.href){

    current = 0;
    audio.src = playlist[0].file;
    musicTitle.innerText = playlist[0].name;
  }

  if(audio.paused){
    audio.play();
    playBtn.innerText = "‚è∏";
    cover.classList.add("rotating");
  } else {
    audio.pause();
    playBtn.innerText = "‚ñ∂";
    cover.classList.remove("rotating");
  }

}

function next(){
  current++;
  if(current >= playlist.length) current = 0;
  playMusic(current);
}

function prev(){
  current--;
  if(current < 0) current = playlist.length - 1;
  playMusic(current);
}

audio.addEventListener("timeupdate", function(){
  var progressPercent = (audio.currentTime / audio.duration) * 100;
  progressBar.style.width = progressPercent + "%";
  progressDot.style.left = progressPercent + "%";

  document.getElementById("currentTime").innerText = formatTime(audio.currentTime);
  document.getElementById("duration").innerText = formatTime(audio.duration);
});

function setProgress(e){
  var width = this.clientWidth;
  var clickX = e.offsetX;
  var duration = audio.duration;
  audio.currentTime = (clickX / width) * duration;
}

function formatTime(seconds){
  var min = Math.floor(seconds / 60);
  var sec = Math.floor(seconds % 60);
  if(sec < 10) sec = "0" + sec;
  return min + ":" + sec;
}

audio.addEventListener("ended", next);

</script>

</body>
</html>
